<div *ngIf="noError" class="bg-dark container-fluid pt-4 mx-0">
    <div class="row">
        <div id="mocCarousel" class="carousel slide col-md-7 mx-auto" data-bs-ride="carousel">
            <div class="carousel-inner">
                <div *ngFor="let picture of (moc | async)?.pictures; let index = index" [class.active]="index == 0"
                    class="carousel-item">
                    <img src={{picture}} class="d-block w-100" alt="{{(moc | async)?.title}}"
                        title="{{(moc | async)?.title}}">
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#mocCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#mocCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
        <div class="col-md-5 bg-dark text-light">
            <div class="row justify-content-center text-center mb-5">
                <h2>
                    {{(moc | async)?.title}}
                </h2>
            </div>
            <div class="container">
                <div class="row py-3">
                    <div class="col-6 justify-content-center text-center">
                        <div class="row">
                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
                                class="bi bi-puzzle-fill" viewBox="0 0 16 16">
                                <path
                                    d="M3.112 3.645A1.5 1.5 0 0 1 4.605 2H7a.5.5 0 0 1 .5.5v.382c0 .696-.497 1.182-.872 1.469a.459.459 0 0 0-.115.118.113.113 0 0 0-.012.025L6.5 4.5v.003l.003.01c.004.01.014.028.036.053a.86.86 0 0 0 .27.194C7.09 4.9 7.51 5 8 5c.492 0 .912-.1 1.19-.24a.86.86 0 0 0 .271-.194.213.213 0 0 0 .036-.054l.003-.01v-.008a.112.112 0 0 0-.012-.025.459.459 0 0 0-.115-.118c-.375-.287-.872-.773-.872-1.469V2.5A.5.5 0 0 1 9 2h2.395a1.5 1.5 0 0 1 1.493 1.645L12.645 6.5h.237c.195 0 .42-.147.675-.48.21-.274.528-.52.943-.52.568 0 .947.447 1.154.862C15.877 6.807 16 7.387 16 8s-.123 1.193-.346 1.638c-.207.415-.586.862-1.154.862-.415 0-.733-.246-.943-.52-.255-.333-.48-.48-.675-.48h-.237l.243 2.855A1.5 1.5 0 0 1 11.395 14H9a.5.5 0 0 1-.5-.5v-.382c0-.696.497-1.182.872-1.469a.459.459 0 0 0 .115-.118.113.113 0 0 0 .012-.025L9.5 11.5v-.003l-.003-.01a.214.214 0 0 0-.036-.053.859.859 0 0 0-.27-.194C8.91 11.1 8.49 11 8 11c-.491 0-.912.1-1.19.24a.859.859 0 0 0-.271.194.214.214 0 0 0-.036.054l-.003.01v.002l.001.006a.113.113 0 0 0 .012.025c.016.027.05.068.115.118.375.287.872.773.872 1.469v.382a.5.5 0 0 1-.5.5H4.605a1.5 1.5 0 0 1-1.493-1.645L3.356 9.5h-.238c-.195 0-.42.147-.675.48-.21.274-.528.52-.943.52-.568 0-.947-.447-1.154-.862C.123 9.193 0 8.613 0 8s.123-1.193.346-1.638C.553 5.947.932 5.5 1.5 5.5c.415 0 .733.246.943.52.255.333.48.48.675.48h.238l-.244-2.855z" />
                            </svg>
                        </div>
                        <div class="row justify-content-center">
                            <strong>Parts:</strong>
                            <span>{{(moc | async)?.parts}} <svg placement="top" *ngIf="(moc | async)?.partsExtra != ''"
                                    ngbTooltip="(moc | async)?.partsExtra" xmlns="http://www.w3.org/2000/svg" width="16"
                                    height="16" fill="currentColor" class="bi bi-exclamation-circle-fill"
                                    viewBox="0 0 16 16">
                                    <path
                                        d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z" />
                                </svg>
                            </span>
                        </div>
                    </div>
                    <div class="col-6 justify-content-center text-center">
                        <div class="row">
                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
                                class="bi bi-search" viewBox="0 0 16 16">
                                <path
                                    d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z" />
                            </svg>
                        </div>
                        <div class="row justify-content-center">
                            <strong>Scale:</strong>
                            <span>{{(moc | async)?.scale}} <svg placement="top" *ngIf="(moc | async)?.scaleExtra != ''"
                                    ngbTooltip="(moc | async)?.scaleExtra" xmlns="http://www.w3.org/2000/svg" width="16"
                                    height="16" fill="currentColor" class="bi bi-exclamation-circle-fill"
                                    viewBox="0 0 16 16">
                                    <path
                                        d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z" />
                                </svg>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="row py-3">
                    <div class="col-6 justify-content-center text-center py-auto">
                        <div class="row">
                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
                                class="bi bi-wrench-adjustable" viewBox="0 0 16 16">
                                <path
                                    d="M16 4.5a4.492 4.492 0 0 1-1.703 3.526L13 5l2.959-1.11c.027.2.041.403.041.61Z" />
                                <path
                                    d="M11.5 9c.653 0 1.273-.139 1.833-.39L12 5.5 11 3l3.826-1.53A4.5 4.5 0 0 0 7.29 6.092l-6.116 5.096a2.583 2.583 0 1 0 3.638 3.638L9.908 8.71A4.49 4.49 0 0 0 11.5 9Zm-1.292-4.361-.596.893.809-.27a.25.25 0 0 1 .287.377l-.596.893.809-.27.158.475-1.5.5a.25.25 0 0 1-.287-.376l.596-.893-.809.27a.25.25 0 0 1-.287-.377l.596-.893-.809.27-.158-.475 1.5-.5a.25.25 0 0 1 .287.376ZM3 14a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z" />
                            </svg>
                        </div>
                        <div class="row justify-content-center">
                            <strong>Stability:</strong>
                            <span>{{(moc | async)?.stability}} <svg placement="top"
                                    *ngIf="(moc | async)?.stabilityExtra != ''"
                                    ngbTooltip="(moc | async)?.stabilityExtra" xmlns="http://www.w3.org/2000/svg"
                                    width="16" height="16" fill="currentColor" class="bi bi-exclamation-circle-fill"
                                    viewBox="0 0 16 16">
                                    <path
                                        d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z" />
                                </svg>
                            </span>
                        </div>
                    </div>
                    <div class="col-6 justify-content-center text-center py-auto">
                        <div class="row">
                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
                                class="bi bi-calendar-date-fill" viewBox="0 0 16 16">
                                <path
                                    d="M4 .5a.5.5 0 0 0-1 0V1H2a2 2 0 0 0-2 2v1h16V3a2 2 0 0 0-2-2h-1V.5a.5.5 0 0 0-1 0V1H4V.5zm5.402 9.746c.625 0 1.184-.484 1.184-1.18 0-.832-.527-1.23-1.16-1.23-.586 0-1.168.387-1.168 1.21 0 .817.543 1.2 1.144 1.2z" />
                                <path
                                    d="M16 14V5H0v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2zm-6.664-1.21c-1.11 0-1.656-.767-1.703-1.407h.683c.043.37.387.82 1.051.82.844 0 1.301-.848 1.305-2.164h-.027c-.153.414-.637.79-1.383.79-.852 0-1.676-.61-1.676-1.77 0-1.137.871-1.809 1.797-1.809 1.172 0 1.953.734 1.953 2.668 0 1.805-.742 2.871-2 2.871zm-2.89-5.435v5.332H5.77V8.079h-.012c-.29.156-.883.52-1.258.777V8.16a12.6 12.6 0 0 1 1.313-.805h.632z" />
                            </svg>
                        </div>
                        <div class="row justify-content-center">
                            <strong>Last updated:</strong> {{(moc | async)?.lastupdate}}
                        </div>
                    </div>
                </div>
                <div class="row py-3">
                    <div class="col-6 justify-content-center text-center py-auto">
                        <div class="row">
                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
                                class="bi bi-rulers" viewBox="0 0 16 16">
                                <path
                                    d="M1 0a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h5v-1H2v-1h4v-1H4v-1h2v-1H2v-1h4V9H4V8h2V7H2V6h4V2h1v4h1V4h1v2h1V2h1v4h1V4h1v2h1V2h1v4h1V1a1 1 0 0 0-1-1H1z" />
                            </svg>
                        </div>
                        <div class="row justify-content-center">
                            <strong>Dimensions:</strong>
                            <span>{{(moc | async)?.dimensions}} <svg placement="top"
                                    *ngIf="(moc | async)?.dimensionsExtra != ''"
                                    ngbTooltip="(moc | async)?.dimensionsExtra" xmlns="http://www.w3.org/2000/svg"
                                    width="16" height="16" fill="currentColor" class="bi bi-exclamation-circle-fill"
                                    viewBox="0 0 16 16">
                                    <path
                                        d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z" />
                                </svg>
                            </span>
                        </div>
                    </div>
                    <div class="col-6 justify-content-center text-center py-auto">
                        <div class="row">
                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
                                class="bi bi-person-square" viewBox="0 0 16 16">
                                <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z" />
                                <path
                                    d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm12 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1v-1c0-1-1-4-6-4s-6 3-6 4v1a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12z" />
                            </svg>
                        </div>
                        <div class="row justify-content-center">
                            <strong>Designers:</strong>
                            <span>{{(moc | async)?.designer}} <svg placement="top"
                                    *ngIf="(moc | async)?.designerExtra != ''" ngbTooltip="(moc | async)?.designerExtra"
                                    xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-exclamation-circle-fill" viewBox="0 0 16 16">
                                    <path
                                        d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z" />
                                </svg>
                            </span>
                        </div>
                    </div>
                </div>
                <div class="row py-3">
                    <div class="col-6 justify-content-center text-center py-auto">
                        <div class="row">
                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
                                class="bi bi-exclamation-triangle-fill" viewBox="0 0 16 16">
                                <path
                                    d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
                            </svg>
                        </div>
                        <div class="row justify-content-center">
                            <strong>Build difficulty:</strong>
                            <span>{{(moc | async)?.difficulty}} <svg placement="top"
                                    *ngIf="(moc | async)?.difficultyExtra != ''"
                                    ngbTooltip="(moc | async)?.difficultyExtra" xmlns="http://www.w3.org/2000/svg"
                                    width="16" height="16" fill="currentColor" class="bi bi-exclamation-circle-fill"
                                    viewBox="0 0 16 16">
                                    <path
                                        d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z" />
                                </svg>
                            </span>
                        </div>
                    </div>
                    <div class="col-6 justify-content-center text-center py-auto">
                        <div class="row">
                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
                                class="bi bi-palette-fill" viewBox="0 0 16 16">
                                <path
                                    d="M12.433 10.07C14.133 10.585 16 11.15 16 8a8 8 0 1 0-8 8c1.996 0 1.826-1.504 1.649-3.08-.124-1.101-.252-2.237.351-2.92.465-.527 1.42-.237 2.433.07zM8 5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4.5 3a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM5 6.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm.5 6.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z" />
                            </svg>
                        </div>
                        <div class="row justify-content-center">
                            <strong>Internal brick color:</strong>
                            <span>{{(moc | async)?.internalColor}} <svg placement="top"
                                    *ngIf="(moc | async)?.internalColorExtra != ''"
                                    ngbTooltip="(moc | async)?.internalColorExtra" xmlns="http://www.w3.org/2000/svg"
                                    width="16" height="16" fill="currentColor" class="bi bi-exclamation-circle-fill"
                                    viewBox="0 0 16 16">
                                    <path
                                        d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z" />
                                </svg>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row m-4">
        <div class="col-md-6 bg-dark text-light">
            <p>
                {{(moc | async)?.description}}
            </p>
        </div>
        <div class="col-md-6 bg-dark text-light">
            <div class="row mt-1">
                <h3 class="mx-auto text-center">
                    Instructions and digital files
                </h3>
            </div>
            <div class="row">
                <div class="accordion bg-dark text-light" id="accordion">
                    <div *ngFor="let version of sortedVersions((moc | async)?.versions)"
                        class="accordion-item bg-dark text-light">
                        <h2 class="accordion-header bg-dark text-light" [id]="'heading'+version.version">
                            <button class="accordion-button bg-dark text-light" type="button" data-bs-toggle="collapse"
                                [attr.data-bs-target]="'#'+version.version" [attr.aria-controls]="version.version">
                                {{version.version}} {{version.versionExtra}}
                            </button>
                        </h2>
                        <div [id]="version.version" class="accordion-collapse collapse show bg-dark text-light"
                            [attr.aria-labelledby]="'heading'+version.version">
                            <div class="accordion-body">
                                <div *ngIf="version.changelog!=''"><strong>Changelog:</strong> <br>
                                    {{version.changelog}} <br></div>
                                <strong>Files:</strong>
                                <app-file *ngFor="let file of version.files" [link]="file.link" [name]="file.name"
                                    [description]="file.description">
                                </app-file>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <div *ngIf="(moc|async)!.related.length > 0" class="row justify-content-center bg-dark m-4 text-light">
        <div class="justify-content-center">
            <span>
                <h3>Related Mocs</h3>
            </span>
            <div class="card-group">
                <app-card class="col-2" *ngFor="let relatedMoc of relatedMocs | async"
                    [pic]="relatedMoc.smallCoverImage" [name]="relatedMoc.title" [parts]="relatedMoc.parts"
                    [id]="relatedMoc.id">
                </app-card>
            </div>
        </div>
    </div>
</div>
<div *ngIf="noError==false" class="bg-dark pt-4 text-light">
    <h2 class="text-center">404 - No MOC has been found :/</h2>
</div>